# 内存管理2

## 模型

下面为一段python脚本：

```python
a = 123
b = [1, 2, 3]
```

当这段脚本加载到内存后，内存会为数据123和[1, 2, 3]分配空间，并让变量a和b分别指向对应的数据：

![1](https://github.com/im-iron-man/python-gramma/blob/master/image/1.png)

进一步，你可以内置函数id来获取变量a，b引用对象在内存中的地址：

```python
print id(a) # 33924320
print id(b) # 37926192
```

具体如图所示：

![1](https://github.com/im-iron-man/python-gramma/blob/master/image/2.png)

## 引用计数

事实上，当python脚本加载到内存后，内存不仅为对象分配空间，使变量引用对象，而且还会维护一个引用计数表，以此监控当前对象的被引用情况。所以一旦一个对象的引用计数为0，意味着没有变量指向该对象，那么python解释器会释放掉该对象占用的内存空间。

考虑如下的四段python脚本：

```python
a = 123
b = 123
```

```python
a = 123
b = a
```

```python
a = [1, 2, 3]
b = [1, 2, 3]
```

```python
a = [1, 2, 3]
b = a
```

## 可变对象与不可变对象

## 拷贝